<div class="frame-items"
    [ngStyle]="{'height':this.appservice.clientHeight + 'px','width':appservice.clientWidth + 'px'}">

</div>
<nav class="navbar navbar-light bg-light" style="position: absolute;z-index: 99;top:0px;width: 100%;">
    <img src="assets/image/景点.png" width="30" height="30" alt="">
    {{this.SpotDetailInfo.Name}}
    <img src="assets/image/返回.png" width="30" height="30" alt="" (click)="Return()" style="float: right;">
</nav>
<div style="position: absolute;z-index: 99;top:42px;text-align: center;overflow-y: scroll; margin: 20px;"
    [ngStyle]="{height:this.appservice.clientHeight - 90 + 'px','width':appservice.clientWidth - 40 + 'px'}">
    <p-tabView>
        <p-tabPanel header="详细">
            <div style="text-align: left;">
                <span *ngIf="this.SpotDetailInfo.Description"> {{this.SpotDetailInfo.Description}}<br /><br /></span>
                <span
                    *ngIf="this.SpotDetailInfo.TrafficGuide"><b>交通：</b>{{this.SpotDetailInfo.TrafficGuide}}<br /></span>
                <span *ngIf="this.SpotDetailInfo.OpenTime"><b>营业时间：</b>
                    <span *ngIf="!isStop">{{this.SpotDetailInfo.OpenTime}} </span>
                    <span *ngIf="isStop">
                        <font color="red">{{this.SpotDetailInfo.OpenTime}}</font>
                    </span>
                    <br />
                </span>
                <span *ngIf="this.SpotDetailInfo.ServiceTel"><b>电话：</b><a
                        [href]="'tel:' + this.SpotDetailInfo.ServiceTel">
                        {{this.SpotDetailInfo.ServiceTel}}</a> </span>
            </div>
            <br /><br />
            <button class="btn btn-primary"
                (click)="this.toastService.show('该功能建设中，等待接入平台', { classname: 'bg-success text-light', delay: 3000 });"><img
                    src="assets/image/购票.png" width="30" height="30" />&nbsp;&nbsp;预约购票</button>
            <div *ngIf="this.SpotDetailInfo.lat !== -1">
                <br />
                <span *ngIf="this.distence"><b>距离您的距离：</b>{{this.distence}}</span>
                <br />
                <echarts [options]="this.option" style="width: 320px;height: 320px;"></echarts>
            </div>
        </p-tabPanel>
        <p-tabPanel *ngIf="TourInfoList.length !==0" header="组团">
            <ul>
                <li *ngFor="let t of TourInfoList" style="text-align: left;">
                    {{t.Name}}:{{t.Days}}(人均：{{t.Price}})<br />{{t.Description}}
                </li>
            </ul>
        </p-tabPanel>
        <p-tabPanel *ngIf="this.SpotDetailInfo.Comments !== null && this.SpotDetailInfo.Comments.length !==0"
            header="评论" style="text-align: left;">
            <b>打分人数：</b>{{this.SpotDetailInfo.ScoreCnt}} <br />
            <b>景色：</b>{{this.SpotDetailInfo.Scenery}} &nbsp;&nbsp;&nbsp;&nbsp;
            <b>趣味：</b>{{this.SpotDetailInfo.Funny}} &nbsp;&nbsp;&nbsp;&nbsp;
            <b>性价比：</b>{{this.SpotDetailInfo.PriceValue}}
            <br />
            <b>评论数：</b>{{this.SpotDetailInfo.CommentCount}} (展示前50条)
            <echarts [options]="this.opiton_wordcoudy" style="width: 320px;height: 320px;"></echarts>
            <ul>
                <li *ngFor="let c of this.SpotDetailInfo.Comments.slice(0,100)">
                    {{c}}
                </li>
            </ul>
        </p-tabPanel>
        <p-tabPanel header="附近餐厅">
            <div class="container">
                <div *ngFor="let t of this.SpotDetailInfo.NearFood" class="row" style="text-align: left;margin: 5px;">
                    <div class="col-9" style="padding: 5px;">
                        {{t.Item1}}
                        <br />
                        {{t.Item3}}
                        {{this.appservice.formatdistence(t.Item2)}}
                    </div>
                    <div class="col-3" style="padding: 5px;">
                        <button class="btn btn-sm btn-primary"
                            (click)="this.router.navigateByUrl('food/' +  this.appservice.EncodeURI(t.Item1));"><i
                                class="fas fa-list"></i>&nbsp;详细</button>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel header="附近宾馆">
            <div class="container">
                <div *ngFor="let t of this.SpotDetailInfo.NearHotel" class="row" style="text-align: left;margin: 5px;">
                    <div class="col-9" style="padding: 5px;">
                        {{t.Item1}}<br />
                        {{t.Item3}}
                        {{ this.appservice.formatdistence(t.Item2)}}
                    </div>
                    <div class="col-3" style="padding: 5px;">
                        <button class="btn btn-sm btn-primary"
                            (click)="this.router.navigateByUrl('hotel/' +  this.appservice.EncodeURI(t.Item1));"><i
                                class="fas fa-list"></i>&nbsp;详细</button>
                    </div>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>

    <app-toasts aria-live="polite" aria-atomic="true"></app-toasts>